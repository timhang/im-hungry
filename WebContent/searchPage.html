<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Search Page</title>
		<link rel="stylesheet" href="css/boostrap.min.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="searchPage.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	</head>
	
	<body>
		<h1 class="title"> I'm Hungry </h1>
		<form method = "POST" action = "resultsPage.jsp">
		<div class="userInput"> 
	    	<input id="searchText" name="searchText" type="text" placeholder="Enter Food" style="width: 150px; height: 20px">	
	    	<input id="integerBox" title="Number of items to show in results" name="numberType" value="5" min="1" style="width: 30px; height: 20px">
	   	 </div>
	    
	    <div class = "wrapper">
	    	<button type = "submit" id="feedMeButton" onclick="myFunction()"><span class="rainbow">Feed Me!</span></button>
			
		</div>
		</form>
		
		<script>
			function myFunction() {

			  	document.getElementById('feedMeButton').setAttribute("id", "smiley");
			  	var searchText = document.getElementById('searchText').value;
			  	sessionStorage.setItem('searchText',searchText);
			  	
			  	window.location.href = 'resultsPage.jsp';
			}
			setInputFilter(document.getElementById("integerBox"), function(value) {
				  return /^\d*$/.test(value);
				});
			function setInputFilter(textbox, inputFilter) {
				  ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function(event) {
				    textbox.addEventListener(event, function() {
				      if (inputFilter(this.value)) {
				        this.oldValue = this.value;
				        this.oldSelectionStart = this.selectionStart;
				        this.oldSelectionEnd = this.selectionEnd;
				      } else if (this.hasOwnProperty("oldValue")) {
				        this.value = this.oldValue;
				        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
				      }
				    });
				  });
				}
			
		</script>
		
	</body>
</html>